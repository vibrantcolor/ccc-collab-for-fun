<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Movie List</title>
</head>
<body class="mt-5 mx-auto" style="width: 500px">
<h1 class="mb-4">Movie List</h1>
<table class="table table-hover table-striped">
    <thead class="table-dark">
    <tr>
        <th scope="col">#</th>
        <th scope="col" class="col-5">Name</th>
        <th scope="col" class="col-2">Year</th>
        <th scope="col" class="col-2">Editing</th>
        <th scope="col" class="col-3">Deleting</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="movie : ${movies}">
        <th scope="row" th:text="${movie.id}"></th>
        <td th:text="${movie.name}"></td>
        <td th:text="${movie.year}"></td>
        <td><a th:href="@{/movies/{id}(id=${movie.id})}">
            <button class="btn btn-primary">Edit</button>
        </a></td>
        <td>
            <form action="#" th:action="@{/movies}" method="post">
                <input type="hidden" name="_method" value="DELETE"/>
                <!-- We are binding movie.id from every movie to the ModelAttribute movie.id -->
                <input type="hidden" name="id" th:value="${movie.id}"/>
                <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<a href="/movies/add-movie">Add a movie</a>

</body>
</html>
